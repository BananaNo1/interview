#### 什么时候用Redis主从集群，什么时候用哨兵集群?
1. 主从模式：master 节点挂掉后，需要手动指定新的 master，可用性不高，基本不用。
2. 哨兵模式：master 节点挂掉后，哨兵进程会主动选举新的 master，可用性高，但是每个节点存储的数据是一样的，浪费内存空间。数据量不是很多，集群规模不是很大，需要自动容错容灾的时候使用。
3. 集群模式：数据量比较大，QPS 要求较高的时候使用。 

### Redis为什么单线程还这么快？

1. 完全基于内存，数据存在内存中
2. 数据结构简单，对数据操作也简单。
3. 采用单线程，省去了很多上下文切换的时间以及CPU消耗，不存在竞争条件，不用去考虑各种锁的问题，不存在加锁释放锁操作，也不会出现死锁而导致的性能消耗。
4. 使用基于IO多路复用机制的线程模型，可以处理并发的链接。

> 执行过程： 发送命令-》执行命令-》返回结果
>
> 执行命令的过程是单线程的，所有的命令都会进入一个队列，然后逐个执行。